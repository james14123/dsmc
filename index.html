<!DOCTYPE html>
<html lang="en">
	<httpProtocol>
    <customHeaders>
        <add name="Access-Control-Allow-Origin" value="*" />
    </customHeaders>
</httpProtocol>
    <head>
        <title>DSMC</title>
        <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
        <link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC" rel="stylesheet" />
        <style>
            body {
                background-color: #092e49;

                font-size: 12px;
                font-family: "Noto Sans TC", sans-serif;
            }
            #board {
                font-size: 20px;
                padding: 5px;
                border-radius: 0px;
            }

            #nextpage {
                font-family: "Noto Sans TC", sans-serif;
                position: fixed;
                background-color: #abd2d9;
                width: 60px;
                height: 40px;
                left: 55.5%;
                bottom: 25px;
                margin: 0 0 0 -20px;
                border-radius: 15px;
                padding: 0px;
                border: 0;
                color: black !important;
            }
            #nextpage:hover {
                background-color: #7398aa;
                color: black !important;
            }
            #forum {
                position: fixed;
                margin: 0 0 0 -250px;
                width: 180px;
                bottom: 60px;
                top: 140px;
                border-radius: 0px;
                overflow-x: auto;
            }
            #main {
                background-color: #f5f5f5;
                border-style: solid;
                border-width: medium;
                position: fixed;
                left: 50%;
                margin: 0 0 0 -300px;
                width: 700px;
                bottom: 80px;
                top: 80px;
                border-radius: 0px;
                overflow-x: hidden;
                padding: 50px;
            }

            .forumname {
            }

            #foruser {
                width: 150px;
                text-align: left;
                font-family: "Noto Sans TC", sans-serif;
                border: 0px;
                font-size: 16px;
                background-color: #7bbfc8;
                text-align: left;
                color: black;
                border-radius: 25px;
                margin: 2px;
                padding-left: 10px;
                padding-right: 0px;
                padding-top: 5px;
                padding-bottom: 5px;
            }

            .btn {
                font-family: "Noto Sans TC", sans-serif;
                border: 0px;
                font-size: 16px;
                background-color: #7bbfc8;
                text-align: left;
                color: black;
                border-radius: 25px;
                margin: 4px;
                padding-left: 10px;
                padding-right: 10px;
                padding-top: 5px;
                padding-bottom: 5px;
            }
            .btn:hover {
                background-color: #7398aa;
            }

            .post {
                background-color: #f5f5f5;
                border-bottom-style: solid;
                margin: 0 auto;
                border-radius: 0px;
                padding: 5px;
            }
            .line {
                background-color: #f5f5f5;
                border-bottom-style: solid;
                border-bottom-width: thin;
                width: 930px;
                margin: 0 auto;
                padding: 20px;
                border-radius: 0px;
            }

            .gender {
                font-weight: 500;
                font-size: 14px;
                padding: 5px;
                border-radius: 0px;
            }

            .title {
                font-weight: 500;
                font-size: 18px;
                background-color: #abd2d9;
                padding: 5px;
                border-radius: 0px;
            }
            .briefcontent {
                font-size: 14px;
                padding: 5px;
                border-radius: 0px;
            }

            .author {
                font-size: 12px;
                padding-top: 4px;
                padding-left: 5px;
                width: auto;
                color: white;
            }
            .count {
                font-size: 10px;
                background-color: gainsboro;
                margin-top: -22px;
                right: 14px;
                position: absolute;
                text-align: center;
                padding: 2px;
                width: 20px;
                height: 20px;
            }
            .more {
                font-family: "Noto Sans TC", sans-serif;
                font-size: 10px;
                margin-bottom: 3px;
                border: 5px;
                color: #14396a !important;
                border-radius: 10px;
            }

            .more:hover {
                color: #14396a !important;
                background: #c3d3d6;
            }

            .premore {
                position: fixed;
                visibility: hidden;
            }
            #contentpost {
                position: fixed;
                width: 1000px;
                height: 80%;
                overflow-x: auto;
                background-color: #f5f5f5;
                padding: 5px;
                top: 100px;
                left: 50%;
                margin: -48px 0 0 -414px;
                border-radius: 0px;
                border-style: solid;
                border-width: 2px;
                z-index: 2;
            }
            #showcatehot {
                visibility: hidden;
                float: right;
                width: 40px;
                height: 20px;
                text-align: center;
                margin-right: 10px;
                border-radius: 0px;

                border-bottom-style: solid;
                border-bottom-width: thin;
            }

            #showcatehot:hover {
                color: #14396a !important;
                background: #c3d3d6;
            }

            #showcatetime {
                visibility: hidden;
                float: right;
                width: 40px;
                height: 20px;
                text-align: center;
                margin-right: 10px;
                border-radius: 0px;

                border-bottom-style: solid;
                border-bottom-width: thin;
            }

            #showcatetime:hover {
                color: #14396a !important;
                background: #c3d3d6;
            }

            img {
                display: block;
                max-width: 500px;
                max-height: 500px;
                width: auto;
                height: auto;
            }

            #closebtn {
                position: fixed;
                font-weight: 500;
                border: 0;
                background: #c3d3d6;
                color: #14396a;
                left: 50%;
                width: 50px;
                height: 30px;
                margin: 0 0 0 520px;
                border-radius: 10px;
                font-family: "Noto Sans TC", sans-serif;
                z-index: 2;
            }

            .postcontenttitle {
                font-weight: 500;
                font-size: 18px;
                padding: 10px;
                border-radius: 0px;
            }

            #closebtn:hover {
                color: white;
                background: #7398aa;
            }
            pre {
                margin-top: 0px;
                margin-bottom: 0px;

                padding: 10px;
                font-family: "Noto Sans TC", sans-serif;
                font-size: 14px;
            }

            .content2 {
                background-color: #f5f5f5;
                border-bottom-style: solid;
                border-bottom-width: thin;
                margin-left: 5px;
                margin-right: 5px;
                border-radius: 0px;
                padding: 10px;
            }
        </style>
        <script src="https://code.jquery.com/jquery-1.11.3.js"></script>
        <script src="https://malsup.github.com/jquery.form.js"></script>
        <script>
            var nextvisibleflag = false;
		var loadingflag = false;
            function returnnextpage() {
		
			
                $("#board").empty();

                var mainboard = document.createElement("div");

			    document.getElementById("nextcate").value = document.getElementById("foruser").value;
			//console.log( document.getElementById("nextcate").value);
			    mainboard.innerHTML = "看板";
			  	
                
                mainboard.setAttribute("class", "post");
                document.getElementById("board").appendChild(mainboard);
                $("#shownextpage").ajaxSubmit(function (data) {
                 //         $.post("https://dsmc-kh.herokuapp.com/next", {}, function (data) {
           		//console.log(data);

                    //產生文章
                    for (i = 0; i < data.length; i++) {
                        var post = document.createElement("div");
                        post.setAttribute("class", "post");
                        post.setAttribute("id", "post_" + i);

                        document.getElementById("board").appendChild(post);

                        var postimformation = document.createElement("div");
                        postimformation.setAttribute("class", "postimformation");
                        document.getElementById("post_" + i).appendChild(postimformation);

                        var forumName = document.createElement("div");
                        forumName.innerHTML = data[i].forumName;
                        forumName.setAttribute("class", "forumName");
                        postimformation.appendChild(forumName);

                        var gender = document.createElement("div");

                        if (data[i].gender == "F") {
                            gender.innerHTML = "女";
                        }
                        if (data[i].gender == "M") {
                            gender.innerHTML = "男";
                        }
                        if (data[i].gender == "D") {
                            gender.innerHTML = "客服小天使";
                        }
                        //gender.innerHTML = data[i].gender;
                        gender.setAttribute("class", "gender");
                        postimformation.appendChild(gender);

                        var title = document.createElement("div");
                        title.innerHTML = data[i].title;
                        title.setAttribute("class", "title");
                        document.getElementById("post_" + i).appendChild(title);

                        var briefcontent = document.createElement("div");
                        briefcontent.innerHTML = data[i].excerpt.substring(0, 40) + "...";
                        briefcontent.setAttribute("class", "briefcontent");
                        document.getElementById("post_" + i).appendChild(briefcontent);

                        var makelink = document.createElement("form");
                        makelink.setAttribute("action", "https://dsmc-kh.herokuapp.com/post");
                        makelink.setAttribute("method", "POST");
                        makelink.setAttribute("id", "POSTform_" + i);
                        makelink.setAttribute("name", "name");
                        makelink.setAttribute("value", data[i].id);

                        document.getElementById("nextpage").value = data[i].id;
                        //makelink.setAttribute('value',"https://www.dcard.tw/_api/posts/"+data[i].id);
                        post.appendChild(makelink);

                        var goto = 'return returnpost("' + "POSTform_" + i + '")';

                        makelink.setAttribute("onsubmit", goto);

                        post.appendChild(makelink);

                        var premore = document.createElement("input");
                        premore.setAttribute("class", "premore");
                        premore.setAttribute("type", "text");

                        premore.setAttribute("name", "name");

                        premore.setAttribute("value", data[i].id); //premore.setAttribute('value',"https://www.dcard.tw/_api/posts/"+data[i].id);

                        makelink.appendChild(premore);

                        var more = document.createElement("input");
                        more.setAttribute("class", "more");
                        more.setAttribute("type", "submit");

                        //more.setAttribute('name','name');

                        more.setAttribute("value", "More...");

                        makelink.appendChild(more);
                    }
					  
                    document.getElementById("nextpage").value = data[data.length-1].id;
                  
				    });
			// });

                //console.log(document.getElementById("nextboard").value);

                return false; // 必须返回false，否则表单会自己再做一次提交操作，并且页面跳转
				
			
            }

            function returnboard(data) {
                $("#board").empty();
                document.getElementById("showcatehot").style.backgroundColor = "#c3d3d6";
			      document.getElementById("showcatetime").style.backgroundColor = "#f5f5f5";
                document.getElementById("shownextpage").style.visibility = "hidden";
   		    document.getElementById("nextcate").value = document.getElementById("foruser").value;
			 document.getElementById("timeid").value = document.getElementById("foruser").value;
			 document.getElementById("hotid").value = document.getElementById("foruser").value;
			
		    //console.log( document.getElementById("nextcate").value);
                var mainboard = document.createElement("div");
                mainboard.innerHTML = "看板";
                mainboard.setAttribute("class", "post");
                document.getElementById("board").appendChild(mainboard);
                document.getElementById("showcatetime").style.visibility = "visible";
                document.getElementById("showcatehot").style.visibility = "visible";

                $("#show" + data).ajaxSubmit(function (data) {
                    //產生文章
                    for (i = 0; i < data.length; i++) {
                        //console.log(data[i]);
                        var post = document.createElement("div");
                        post.setAttribute("class", "post");
                        post.setAttribute("id", "post_" + i);

                        document.getElementById("board").appendChild(post);

                        var forumName = document.createElement("div");
                        forumName.innerHTML = data[i].forumName;
                        forumName.setAttribute("class", "forumName");

                        var gender = document.createElement("span");

                        if (data[i].gender == "F") {
                            gender.innerHTML = "女";
                        }
                        if (data[i].gender == "M") {
                            gender.innerHTML = "男";
                        }
                        if (data[i].gender == "D") {
                            gender.innerHTML = "客服小天使";
                        }
                        //gender.innerHTML = data[i].gender;
                        gender.setAttribute("class", "gender");
                        document.getElementById("post_" + i).appendChild(gender);

                        var title = document.createElement("div");
                        title.innerHTML = data[i].title;
                        title.setAttribute("class", "title");
                        document.getElementById("post_" + i).appendChild(title);

                        var briefcontent = document.createElement("div");
                        briefcontent.innerHTML = data[i].excerpt.substring(0, 40) + "...";
                        briefcontent.setAttribute("class", "briefcontent");
                        document.getElementById("post_" + i).appendChild(briefcontent);

                        var makelink = document.createElement("form");
                        makelink.setAttribute("action", "https://dsmc-kh.herokuapp.com/post");
                        makelink.setAttribute("method", "POST");
                        makelink.setAttribute("id", "POSTform_" + i);
                        makelink.setAttribute("name", "name");
                        makelink.setAttribute("value", data[i].id);
                        //makelink.setAttribute('value',"https://www.dcard.tw/_api/posts/"+data[i].id);
                        post.appendChild(makelink);

                        var goto = 'return returnpost("' + "POSTform_" + i + '")';

                        makelink.setAttribute("onsubmit", goto);

                        post.appendChild(makelink);

                        var premore = document.createElement("input");
                        premore.setAttribute("class", "premore");
                        premore.setAttribute("type", "text");

                        premore.setAttribute("name", "name");

                        premore.setAttribute("value", data[i].id); //premore.setAttribute('value',"https://www.dcard.tw/_api/posts/"+data[i].id);

                        makelink.appendChild(premore);

                        var more = document.createElement("input");
                        more.setAttribute("class", "more");
                        more.setAttribute("type", "submit");

                        //more.setAttribute('name','name');

                        more.setAttribute("value", "More...");

                        makelink.appendChild(more);
                    }
                });

                document.getElementById("nextboard").value = document.getElementById("foruser").value;
                return false; // 必须返回false，否则表单会自己再做一次提交操作，并且页面跳转
            }

            function hotpost() {
                $("#board").empty();

                document.getElementById("showcatehot").style.visibility = "hidden";
                document.getElementById("showcatetime").style.visibility = "hidden";
			
                document.getElementById("nextcate").value = "hot";
			
			
                var mainboard = document.createElement("div");
                mainboard.innerHTML = "熱門文章";
                mainboard.setAttribute("class", "post");
                document.getElementById("board").appendChild(mainboard);
                
                    //https://dsmc-kh.herokuapp.com/
                    //https://dsmc-kh.herokuapp.com/
                    $.post("https://dsmc-kh.herokuapp.com/hotpost", {}, function (data) {
                        //產生文章
                        for (i = 0; i < data.length; i++) {
                            var post = document.createElement("div");
                            post.setAttribute("class", "post");
                            post.setAttribute("id", "post_" + i);

                            document.getElementById("board").appendChild(post);

                            var postimformation = document.createElement("div");
                            postimformation.setAttribute("class", "postimformation");
                            document.getElementById("post_" + i).appendChild(postimformation);

                            var forumName = document.createElement("div");
                            forumName.innerHTML = data[i].forumName;
                            forumName.setAttribute("class", "forumName");
                            postimformation.appendChild(forumName);

                            var gender = document.createElement("div");

                            if (data[i].gender == "F") {
                                gender.innerHTML = "女";
                            }
                            if (data[i].gender == "M") {
                                gender.innerHTML = "男";
                            }
                            if (data[i].gender == "D") {
                                gender.innerHTML = "客服小天使";
                            }
                            //gender.innerHTML = data[i].gender;
                            gender.setAttribute("class", "gender");
                            postimformation.appendChild(gender);

                            var title = document.createElement("div");
                            title.innerHTML = data[i].title;
                            title.setAttribute("class", "title");
                            document.getElementById("post_" + i).appendChild(title);

                            var briefcontent = document.createElement("div");
                            briefcontent.innerHTML = data[i].excerpt.substring(0, 40) + "...";
                            briefcontent.setAttribute("class", "briefcontent");
                            document.getElementById("post_" + i).appendChild(briefcontent);

                            var makelink = document.createElement("form");
                            makelink.setAttribute("action", "https://dsmc-kh.herokuapp.com/post");
                            makelink.setAttribute("method", "POST");
                            makelink.setAttribute("id", "POSTform_" + i);
                            makelink.setAttribute("name", "name");
                            makelink.setAttribute("value", data[i].id);

                            //makelink.setAttribute('value',"https://www.dcard.tw/_api/posts/"+data[i].id);
                            post.appendChild(makelink);

                            var goto = 'return returnpost("' + "POSTform_" + i + '")';

                            makelink.setAttribute("onsubmit", goto);

                            post.appendChild(makelink);

                            var premore = document.createElement("input");
                            premore.setAttribute("class", "premore");
                            premore.setAttribute("type", "text");

                            premore.setAttribute("name", "name");

                            premore.setAttribute("value", data[i].id); //premore.setAttribute('value',"https://www.dcard.tw/_api/posts/"+data[i].id);

                            makelink.appendChild(premore);

                            var more = document.createElement("input");
                            more.setAttribute("class", "more");
                            more.setAttribute("type", "submit");

                            //more.setAttribute('name','name');

                            more.setAttribute("value", "More...");

                            makelink.appendChild(more);
                        }

                        document.getElementById("nextpage").value = data[data.length-1].id;
                        document.getElementById("nextboard").value = "hotpost";
				//  console.log(data[data.length-1].id);
                    });
              

                return false; // 必须返回false，否则表单会自己再做一次提交操作，并且页面跳转
            }
            function sex() {
                $("#board").empty();

                var mainboard = document.createElement("div");
                mainboard.innerHTML = "西斯";
                mainboard.setAttribute("class", "post");
                document.getElementById("board").appendChild(mainboard);
                $("#showsex").ajaxSubmit(function (message) {
                    //https://dsmc-kh.herokuapp.com/
                    //https://dsmc-kh.herokuapp.com/
                    $.post("https://dsmc-kh.herokuapp.com/sex", {}, function (data) {
                        //產生文章
                        for (i = 0; i < data.length; i++) {
                            //console.log(data[i]);
                            var post = document.createElement("div");
                            post.setAttribute("class", "post");
                            post.setAttribute("id", "post_" + i);

                            document.getElementById("board").appendChild(post);

                            var forumName = document.createElement("div");
                            forumName.innerHTML = data[i].forumName;
                            forumName.setAttribute("class", "forumName");

                            var gender = document.createElement("span");

                            if (data[i].gender == "F") {
                                gender.innerHTML = "女";
                            }
                            if (data[i].gender == "M") {
                                gender.innerHTML = "男";
                            }
                            if (data[i].gender == "D") {
                                gender.innerHTML = "客服小天使";
                            }
                            //gender.innerHTML = data[i].gender;
                            gender.setAttribute("class", "gender");
                            document.getElementById("post_" + i).appendChild(gender);

                            var title = document.createElement("div");
                            title.innerHTML = data[i].title;
                            title.setAttribute("class", "title");
                            document.getElementById("post_" + i).appendChild(title);

                            var briefcontent = document.createElement("div");
                            briefcontent.innerHTML = data[i].excerpt.substring(0, 40) + "...";
                            briefcontent.setAttribute("class", "briefcontent");
                            document.getElementById("post_" + i).appendChild(briefcontent);

                            var makelink = document.createElement("form");
                            makelink.setAttribute("action", "https://dsmc-kh.herokuapp.com/post");
                            makelink.setAttribute("method", "POST");
                            makelink.setAttribute("id", "POSTform_" + i);
                            makelink.setAttribute("name", "name");
                            makelink.setAttribute("value", data[i].id);
                            //makelink.setAttribute('value',"https://www.dcard.tw/_api/posts/"+data[i].id);
                            post.appendChild(makelink);

                            var goto = 'return returnpost("' + "POSTform_" + i + '")';

                            makelink.setAttribute("onsubmit", goto);

                            post.appendChild(makelink);

                            var premore = document.createElement("input");
                            premore.setAttribute("class", "premore");
                            premore.setAttribute("type", "text");

                            premore.setAttribute("name", "name");

                            premore.setAttribute("value", data[i].id); //premore.setAttribute('value',"https://www.dcard.tw/_api/posts/"+data[i].id);

                            makelink.appendChild(premore);

                            var more = document.createElement("input");
                            more.setAttribute("class", "more");
                            more.setAttribute("type", "submit");

                            //more.setAttribute('name','name');

                            more.setAttribute("value", "More...");

                            makelink.appendChild(more);
                        }
                    });
                });

                return false; // 必须返回false，否则表单会自己再做一次提交操作，并且页面跳转
            }

            function animal_crossing() {
                $("#board").empty();
                document.getElementById("showcatehot").style.backgroundColor = "#c3d3d6";
                document.getElementById("shownextpage").style.visibility = "hidden";
   		    document.getElementById("nextboard").value = "animal_crossing"
		    //console.log( document.getElementById("nextcate").value);
                var mainboard = document.createElement("div");
                mainboard.innerHTML = "看板";
                mainboard.setAttribute("class", "post");
                document.getElementById("board").appendChild(mainboard);
                document.getElementById("showcatetime").style.visibility = "visible";
                document.getElementById("showcatehot").style.visibility = "visible";
		    document.getElementById("hotid").value = "animal_crossing";
      	    document.getElementById("timeid").value = "animal_crossing";


			
                $("#showanimal_crossing").ajaxSubmit(function (message) {
                    $.post("https://dsmc-kh.herokuapp.com/animal_crossing", {}, function (data) {
                        //產生文章
                        for (i = 0; i < data.length; i++) {
                            //console.log(data[i]);
                            var post = document.createElement("div");
                            post.setAttribute("class", "post");
                            post.setAttribute("id", "post_" + i);

                            document.getElementById("board").appendChild(post);

                            var forumName = document.createElement("div");
                            forumName.innerHTML = data[i].forumName;
                            forumName.setAttribute("class", "forumName");

                            var gender = document.createElement("span");

                            if (data[i].gender == "F") {
                                gender.innerHTML = "女";
                            }
                            if (data[i].gender == "M") {
                                gender.innerHTML = "男";
                            }
                            if (data[i].gender == "D") {
                                gender.innerHTML = "客服小天使";
                            }
                            //gender.innerHTML = data[i].gender;
                            gender.setAttribute("class", "gender");
                            document.getElementById("post_" + i).appendChild(gender);

                            var title = document.createElement("div");
                            title.innerHTML = data[i].title;
                            title.setAttribute("class", "title");
                            document.getElementById("post_" + i).appendChild(title);

                            var briefcontent = document.createElement("div");
                            briefcontent.innerHTML = data[i].excerpt.substring(0, 40) + "...";
                            briefcontent.setAttribute("class", "briefcontent");
                            document.getElementById("post_" + i).appendChild(briefcontent);

                            var makelink = document.createElement("form");
                            makelink.setAttribute("action", "https://dsmc-kh.herokuapp.com/post");
                            makelink.setAttribute("method", "POST");
                            makelink.setAttribute("id", "POSTform_" + i);
                            makelink.setAttribute("name", "name");
                            makelink.setAttribute("value", data[i].id);
                            //makelink.setAttribute('value',"https://www.dcard.tw/_api/posts/"+data[i].id);
                            post.appendChild(makelink);

                            var goto = 'return returnpost("' + "POSTform_" + i + '")';

                            makelink.setAttribute("onsubmit", goto);

                            post.appendChild(makelink);

                            var premore = document.createElement("input");
                            premore.setAttribute("class", "premore");
                            premore.setAttribute("type", "text");

                            premore.setAttribute("name", "name");

                            premore.setAttribute("value", data[i].id); //premore.setAttribute('value',"https://www.dcard.tw/_api/posts/"+data[i].id);

                            makelink.appendChild(premore);

                            var more = document.createElement("input");
                            more.setAttribute("class", "more");
                            more.setAttribute("type", "submit");

                            //more.setAttribute('name','name');

                            more.setAttribute("value", "More...");

                            makelink.appendChild(more);
                        }
                    });
                });

                return false; // 必须返回false，否则表单会自己再做一次提交操作，并且页面跳转
            }

            function returnpost(id) {
                //console.log(id);

                var content = document.createElement("div");
                content.setAttribute("id", "contentpost");
                document.querySelector("body").appendChild(content);
                var closebtn = document.createElement("button");
                closebtn.setAttribute("id", "closebtn");
                closebtn.setAttribute("onclick", "closepost()");
                closebtn.innerHTML = "Close";

                content.appendChild(closebtn);

                $("#" + id).ajaxSubmit(function (message) {
                    var urlRegex = /(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;

                    var postcontenttitle = document.createElement("pre");
                    postcontenttitle.setAttribute("class", "postcontenttitle");

                    // console.log(message.content2[0]);

                    var postcontent = document.createElement("pre");
                    var postcontenttime = document.createElement("pre");

                    postcontenttitle.innerHTML = message.content1.title;
                    postcontenttime.innerHTML = message.content1.updatedAt;
                    postcontent.innerHTML = linkify(message.content1.content);

                    content.appendChild(postcontenttitle);
                    content.appendChild(postcontenttime);
                    content.appendChild(postcontent);

                    var line = document.createElement("div");
                    line.setAttribute("class", "line");
                    content.appendChild(line);

                    for (j = 0; j < message.content2.length; j++) {
                        if (message.content2[j].content != undefined) {
                            var content2 = document.createElement("pre");
                            content2.innerHTML = linkify(message.content2[j].content);
                            content2.setAttribute("class", "content2");
                            var content2floor = document.createElement("pre");
                            content2floor.setAttribute("class", "content2floor");
                            content2floor.innerHTML = linkify(message.content2[j].school + " " + message.content2[j].floor + "樓       " + message.content2[j].updatedAt);

                            content.appendChild(content2floor);

                            content.appendChild(content2);
                        }
                    }
                });

                return false; // 必须返回false，否则表单会自己再做一次提交操作，并且页面跳转
            }

            function closepost() {
                document.getElementById("contentpost").remove();
            }

            function linkify(text) {
                var urlRegex = /(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;
                return text.replace(urlRegex, function (url) {
                    if (url.match("jpg")) {
                        return '<a href="' + url + '">' + url + '<br></a><img src="' + url.replace("/.i/", "/") + '" ></img>';
                        //'<a href="' + url + '">' + url + '</a>';
                    } else {
                        return '<a href="' + url + '" target="_blank">' + url + "</a>";
                    }
                    Í;
                });
            }

            function clickhot() {
                document.getElementById("showcatehot").style.backgroundColor = "#c3d3d6";
                document.getElementById("nextcate").value = "hot";
                document.getElementById("showcatetime").style.backgroundColor = "#f5f5f5";
                document.getElementById("shownextpage").style.visibility = "hidden";

                ////
                $("#board").empty();

                var mainboard = document.createElement("div");
                mainboard.innerHTML = "熱門文章";
                mainboard.setAttribute("class", "post");
                document.getElementById("board").appendChild(mainboard);
                $("#catehot").ajaxSubmit(function (data) {
                    //產生文章
                    for (i = 0; i < data.length; i++) {
                        //console.log(data[i]);
                        var post = document.createElement("div");
                        post.setAttribute("class", "post");
                        post.setAttribute("id", "post_" + i);

                        document.getElementById("board").appendChild(post);

                        var forumName = document.createElement("div");
                        forumName.innerHTML = data[i].forumName;
                        forumName.setAttribute("class", "forumName");

                        var gender = document.createElement("span");

                        if (data[i].gender == "F") {
                            gender.innerHTML = "女";
                        }
                        if (data[i].gender == "M") {
                            gender.innerHTML = "男";
                        }
                        if (data[i].gender == "D") {
                            gender.innerHTML = "客服小天使";
                        }
                        //gender.innerHTML = data[i].gender;
                        gender.setAttribute("class", "gender");
                        document.getElementById("post_" + i).appendChild(gender);

                        var title = document.createElement("div");
                        title.innerHTML = data[i].title;
                        title.setAttribute("class", "title");
                        document.getElementById("post_" + i).appendChild(title);

                        var briefcontent = document.createElement("div");
                        briefcontent.innerHTML = data[i].excerpt.substring(0, 40) + "...";
                        briefcontent.setAttribute("class", "briefcontent");
                        document.getElementById("post_" + i).appendChild(briefcontent);

                        var makelink = document.createElement("form");
                        makelink.setAttribute("action", "https://dsmc-kh.herokuapp.com/post");
                        makelink.setAttribute("method", "POST");
                        makelink.setAttribute("id", "POSTform_" + i);
                        makelink.setAttribute("name", "name");
                        makelink.setAttribute("value", data[i].id);
                        //makelink.setAttribute('value',"https://www.dcard.tw/_api/posts/"+data[i].id);
                        post.appendChild(makelink);

                        var goto = 'return returnpost("' + "POSTform_" + i + '")';

                        makelink.setAttribute("onsubmit", goto);

                        post.appendChild(makelink);

                        var premore = document.createElement("input");
                        premore.setAttribute("class", "premore");
                        premore.setAttribute("type", "text");

                        premore.setAttribute("name", "name");

                        premore.setAttribute("value", data[i].id); //premore.setAttribute('value',"https://www.dcard.tw/_api/posts/"+data[i].id);

                        makelink.appendChild(premore);

                        var more = document.createElement("input");
                        more.setAttribute("class", "more");
                        more.setAttribute("type", "submit");

                        //more.setAttribute('name','name');

                        more.setAttribute("value", "More...");

                        makelink.appendChild(more);
                    }
			    document.getElementById("nextpage").value = data[data.length-1].id;
                });

                return false; // 必须返回false，否则表单会自己再做一次提交操作，并且页面跳转
            }

            function clicktime() {
                document.getElementById("showcatetime").style.backgroundColor = "#c3d3d6";
                document.getElementById("nextcate").value = document.getElementById("foruser").value;
                document.getElementById("showcatehot").style.backgroundColor = "#f5f5f5";
                document.getElementById("shownextpage").style.visibility = "visible";
		
               
             
                ////
                $("#board").empty();

                var mainboard = document.createElement("div");
                mainboard.innerHTML = "最新文章";
                mainboard.setAttribute("class", "post");
                document.getElementById("board").appendChild(mainboard);
                $("#catetime").ajaxSubmit(function (data) {
                    //產生文章
                    for (i = 0; i < data.length; i++) {
                        //console.log(data[i]);
                        var post = document.createElement("div");
                        post.setAttribute("class", "post");
                        post.setAttribute("id", "post_" + i);

                        document.getElementById("board").appendChild(post);

                        var forumName = document.createElement("div");
                        forumName.innerHTML = data[i].forumName;
                        forumName.setAttribute("class", "forumName");

                        var gender = document.createElement("span");

                        if (data[i].gender == "F") {
                            gender.innerHTML = "女";
                        }
                        if (data[i].gender == "M") {
                            gender.innerHTML = "男";
                        }
                        if (data[i].gender == "D") {
                            gender.innerHTML = "客服小天使";
                        }
                        //gender.innerHTML = data[i].gender;
                        gender.setAttribute("class", "gender");
                        document.getElementById("post_" + i).appendChild(gender);

                        var title = document.createElement("div");
                        title.innerHTML = data[i].title;
                        title.setAttribute("class", "title");
                        document.getElementById("post_" + i).appendChild(title);

                        var briefcontent = document.createElement("div");
                        briefcontent.innerHTML = data[i].excerpt.substring(0, 40) + "...";
                        briefcontent.setAttribute("class", "briefcontent");
                        document.getElementById("post_" + i).appendChild(briefcontent);

                        var makelink = document.createElement("form");
                        makelink.setAttribute("action", "https://dsmc-kh.herokuapp.com/post");
                        makelink.setAttribute("method", "POST");
                        makelink.setAttribute("id", "POSTform_" + i);
                        makelink.setAttribute("name", "name");
                        makelink.setAttribute("value", data[i].id);
                        //makelink.setAttribute('value',"https://www.dcard.tw/_api/posts/"+data[i].id);
                        post.appendChild(makelink);

                        var goto = 'return returnpost("' + "POSTform_" + i + '")';

                        makelink.setAttribute("onsubmit", goto);

                        post.appendChild(makelink);

                        var premore = document.createElement("input");
                        premore.setAttribute("class", "premore");
                        premore.setAttribute("type", "text");

                        premore.setAttribute("name", "name");

                        premore.setAttribute("value", data[i].id); //premore.setAttribute('value',"https://www.dcard.tw/_api/posts/"+data[i].id);

                        makelink.appendChild(premore);

                        var more = document.createElement("input");
                        more.setAttribute("class", "more");
                        more.setAttribute("type", "submit");

                        //more.setAttribute('name','name');

                        more.setAttribute("value", "More...");

                        makelink.appendChild(more);
                    }
			    document.getElementById("nextpage").value = data[data.length-1].id;
                });
		    
                return false; // 必须返回false，否则表单会自己再做一次提交操作，并且页面跳转
            }

            function returnpost(id) {
                //console.log(id);

                var content = document.createElement("div");
                content.setAttribute("id", "contentpost");
                document.querySelector("body").appendChild(content);
                var closebtn = document.createElement("button");
                closebtn.setAttribute("id", "closebtn");
                closebtn.setAttribute("onclick", "closepost()");
                closebtn.innerHTML = "Close";

                content.appendChild(closebtn);

                $("#" + id).ajaxSubmit(function (message) {
                    var urlRegex = /(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;

                    var postcontenttitle = document.createElement("pre");
                    postcontenttitle.setAttribute("class", "postcontenttitle");

                    // console.log(message.content2[0]);

                    var postcontent = document.createElement("pre");
                    var postcontenttime = document.createElement("pre");

                    postcontenttitle.innerHTML = message.content1.title;
                    postcontenttime.innerHTML = message.content1.updatedAt;
                    postcontent.innerHTML = linkify(message.content1.content);

                    content.appendChild(postcontenttitle);
                    content.appendChild(postcontenttime);
                    content.appendChild(postcontent);

                    var line = document.createElement("div");
                    line.setAttribute("class", "line");
                    content.appendChild(line);

                    for (j = 0; j < message.content2.length; j++) {
                        if (message.content2[j].content != undefined) {
                            var content2 = document.createElement("pre");
                            content2.innerHTML = linkify(message.content2[j].content);
                            content2.setAttribute("class", "content2");
                            var content2floor = document.createElement("pre");
                            content2floor.setAttribute("class", "content2floor");
                            content2floor.innerHTML = linkify(message.content2[j].school + " " + message.content2[j].floor + "樓       " + message.content2[j].updatedAt);

                            content.appendChild(content2floor);

                            content.appendChild(content2);
                        }
                    }
			    
                });

                return false; // 必须返回false，否则表单会自己再做一次提交操作，并且页面跳转
            }
        </script>
	   
	<script language="javascript">
	pad_width=300;
	pad_height=250;
	pad_customerId="PFBC20190325001";
	pad_positionId="PFBP201903250001C";
	pad_ssl ="false";
		
	</script>
	  
	  <script>
	  	(function(name, context, definition) {
    'use strict';
    if (typeof window.define === 'function' && window.define.amd) {
        window.define(definition)
    } else if (typeof module !== 'undefined' && module.exports) {
        module.exports = definition()
    } else if (context.exports) {
        context.exports = definition()
    } else {
        context[name] = definition()
    }
})('PCHOMEFingerprint', this, function() {
    'use strict';
    var PCHOMEFingerprint = function(options) {
        if (!(this instanceof PCHOMEFingerprint)) {
            return new PCHOMEFingerprint(options)
        }
        var defaultOptions = {
            swfContainerId: 'PCHOMEFingerprint',
            swfPath: 'flash/compiled/FontList.swf',
            detectScreenOrientation: true,
            sortPluginsFor: [/palemoon/i],
            userDefinedFonts: []
        };
        this.options = this.extend(options, defaultOptions);
        this.nativeForEach = Array.prototype.forEach;
        this.nativeMap = Array.prototype.map
    };
    PCHOMEFingerprint.prototype = {
        extend: function(source, target) {
            if (source == null) {
                return target
            }
            for (var k in source) {
                if (source[k] != null && target[k] !== source[k]) {
                    target[k] = source[k]
                }
            }
            return target
        },
        getWebglFp: function() {
            var gl;
            var fa2s = function(fa) {
                gl.clearColor(0.0, 0.0, 0.0, 1.0);
                gl.enable(gl.DEPTH_TEST);
                gl.depthFunc(gl.LEQUAL);
                gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
                return '[' + fa[0] + ', ' + fa[1] + ']'
            };
            var maxAnisotropy = function(gl) {
                var ext = gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic') || gl.getExtension('MOZ_EXT_texture_filter_anisotropic');
                if (ext) {
                    var anisotropy = gl.getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                    if (anisotropy === 0) {
                        anisotropy = 2
                    }
                    return anisotropy
                } else {
                    return null
                }
            };
            gl = this.getWebglCanvas();
            if (!gl) {
                return null
            }
            var result = [];
            var vShaderTemplate = 'attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}';
            var fShaderTemplate = 'precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}';
            var vertexPosBuffer = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, vertexPosBuffer);
            var vertices = new Float32Array([-0.2, -0.9, 0, 0.4, -0.26, 0, 0, 0.732134444, 0]);
            gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);
            vertexPosBuffer.itemSize = 3;
            vertexPosBuffer.numItems = 3;
            var program = gl.createProgram();
            var vshader = gl.createShader(gl.VERTEX_SHADER);
            gl.shaderSource(vshader, vShaderTemplate);
            gl.compileShader(vshader);
            var fshader = gl.createShader(gl.FRAGMENT_SHADER);
            gl.shaderSource(fshader, fShaderTemplate);
            gl.compileShader(fshader);
            gl.attachShader(program, vshader);
            gl.attachShader(program, fshader);
            gl.linkProgram(program);
            gl.useProgram(program);
            program.vertexPosAttrib = gl.getAttribLocation(program, 'attrVertex');
            program.offsetUniform = gl.getUniformLocation(program, 'uniformOffset');
            gl.enableVertexAttribArray(program.vertexPosArray);
            gl.vertexAttribPointer(program.vertexPosAttrib, vertexPosBuffer.itemSize, gl.FLOAT, !1, 0, 0);
            gl.uniform2f(program.offsetUniform, 1, 1);
            gl.drawArrays(gl.TRIANGLE_STRIP, 0, vertexPosBuffer.numItems);
            try {
                result.push(gl.canvas.toDataURL())
            } catch (e) {}
            result.push('extensions:' + (gl.getSupportedExtensions() || []).join(';'));
            result.push('webgl aliased line width range:' + fa2s(gl.getParameter(gl.ALIASED_LINE_WIDTH_RANGE)));
            result.push('webgl aliased point size range:' + fa2s(gl.getParameter(gl.ALIASED_POINT_SIZE_RANGE)));
            result.push('webgl alpha bits:' + gl.getParameter(gl.ALPHA_BITS));
            result.push('webgl antialiasing:' + (gl.getContextAttributes().antialias ? 'yes' : 'no'));
            result.push('webgl blue bits:' + gl.getParameter(gl.BLUE_BITS));
            result.push('webgl depth bits:' + gl.getParameter(gl.DEPTH_BITS));
            result.push('webgl green bits:' + gl.getParameter(gl.GREEN_BITS));
            result.push('webgl max anisotropy:' + maxAnisotropy(gl));
            result.push('webgl max combined texture image units:' + gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS));
            result.push('webgl max cube map texture size:' + gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE));
            result.push('webgl max fragment uniform vectors:' + gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS));
            result.push('webgl max render buffer size:' + gl.getParameter(gl.MAX_RENDERBUFFER_SIZE));
            result.push('webgl max texture image units:' + gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS));
            result.push('webgl max texture size:' + gl.getParameter(gl.MAX_TEXTURE_SIZE));
            result.push('webgl max varying vectors:' + gl.getParameter(gl.MAX_VARYING_VECTORS));
            result.push('webgl max vertex attribs:' + gl.getParameter(gl.MAX_VERTEX_ATTRIBS));
            result.push('webgl max vertex texture image units:' + gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS));
            result.push('webgl max vertex uniform vectors:' + gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS));
            result.push('webgl max viewport dims:' + fa2s(gl.getParameter(gl.MAX_VIEWPORT_DIMS)));
            result.push('webgl red bits:' + gl.getParameter(gl.RED_BITS));
            result.push('webgl renderer:' + gl.getParameter(gl.RENDERER));
            result.push('webgl shading language version:' + gl.getParameter(gl.SHADING_LANGUAGE_VERSION));
            result.push('webgl stencil bits:' + gl.getParameter(gl.STENCIL_BITS));
            result.push('webgl vendor:' + gl.getParameter(gl.VENDOR));
            result.push('webgl version:' + gl.getParameter(gl.VERSION));
            try {
                var extensionDebugRendererInfo = gl.getExtension('WEBGL_debug_renderer_info');
                if (extensionDebugRendererInfo) {
                    result.push('webgl unmasked vendor:' + gl.getParameter(extensionDebugRendererInfo.UNMASKED_VENDOR_WEBGL));
                    result.push('webgl unmasked renderer:' + gl.getParameter(extensionDebugRendererInfo.UNMASKED_RENDERER_WEBGL))
                }
            } catch (e) {}
            if (!gl.getShaderPrecisionFormat) {
                return result.join('~')
            }
            result.push('webgl vertex shader high float precision:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT).precision);
            result.push('webgl vertex shader high float precision rangeMin:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT).rangeMin);
            result.push('webgl vertex shader high float precision rangeMax:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT).rangeMax);
            result.push('webgl vertex shader medium float precision:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT).precision);
            result.push('webgl vertex shader medium float precision rangeMin:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT).rangeMin);
            result.push('webgl vertex shader medium float precision rangeMax:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT).rangeMax);
            result.push('webgl vertex shader low float precision:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.LOW_FLOAT).precision);
            result.push('webgl vertex shader low float precision rangeMin:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.LOW_FLOAT).rangeMin);
            result.push('webgl vertex shader low float precision rangeMax:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.LOW_FLOAT).rangeMax);
            result.push('webgl fragment shader high float precision:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT).precision);
            result.push('webgl fragment shader high float precision rangeMin:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT).rangeMin);
            result.push('webgl fragment shader high float precision rangeMax:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT).rangeMax);
            result.push('webgl fragment shader medium float precision:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT).precision);
            result.push('webgl fragment shader medium float precision rangeMin:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT).rangeMin);
            result.push('webgl fragment shader medium float precision rangeMax:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT).rangeMax);
            result.push('webgl fragment shader low float precision:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT).precision);
            result.push('webgl fragment shader low float precision rangeMin:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT).rangeMin);
            result.push('webgl fragment shader low float precision rangeMax:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT).rangeMax);
            result.push('webgl vertex shader high int precision:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_INT).precision);
            result.push('webgl vertex shader high int precision rangeMin:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_INT).rangeMin);
            result.push('webgl vertex shader high int precision rangeMax:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_INT).rangeMax);
            result.push('webgl vertex shader medium int precision:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_INT).precision);
            result.push('webgl vertex shader medium int precision rangeMin:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_INT).rangeMin);
            result.push('webgl vertex shader medium int precision rangeMax:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_INT).rangeMax);
            result.push('webgl vertex shader low int precision:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.LOW_INT).precision);
            result.push('webgl vertex shader low int precision rangeMin:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.LOW_INT).rangeMin);
            result.push('webgl vertex shader low int precision rangeMax:' + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.LOW_INT).rangeMax);
            result.push('webgl fragment shader high int precision:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT).precision);
            result.push('webgl fragment shader high int precision rangeMin:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT).rangeMin);
            result.push('webgl fragment shader high int precision rangeMax:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT).rangeMax);
            result.push('webgl fragment shader medium int precision:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT).precision);
            result.push('webgl fragment shader medium int precision rangeMin:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT).rangeMin);
            result.push('webgl fragment shader medium int precision rangeMax:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT).rangeMax);
            result.push('webgl fragment shader low int precision:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT).precision);
            result.push('webgl fragment shader low int precision rangeMin:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT).rangeMin);
            result.push('webgl fragment shader low int precision rangeMax:' + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT).rangeMax);
            return result.join('~')
        },
        getWebglCanvas: function() {
            var canvas = document.createElement('canvas');
            var gl = null;
            try {
                gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl')
            } catch (e) {}
            if (!gl) {
                gl = null
            }
            return gl
        },
        getCanvasFp: function() {
            var result = [];
            var canvas = document.createElement('canvas');
            canvas.width = 2000;
            canvas.height = 200;
            canvas.style.display = 'inline';
            var ctx = canvas.getContext('2d');
            ctx.rect(0, 0, 10, 10);
            ctx.rect(2, 2, 6, 6);
            result.push('canvas winding:' + ((ctx.isPointInPath(5, 5, 'evenodd') === false) ? 'yes' : 'no'));
            ctx.textBaseline = 'alphabetic';
            ctx.fillStyle = '#f60';
            ctx.fillRect(125, 1, 62, 20);
            ctx.fillStyle = '#069';
            if (this.options.dontUseFakeFontInCanvas) {
                ctx.font = '11pt Arial'
            } else {
                ctx.font = '11pt no-real-font-123'
            }
            ctx.fillText('Cwm fjordbank glyphs vext quiz, ??', 2, 15);
            ctx.fillStyle = 'rgba(102, 204, 0, 0.2)';
            ctx.font = '18pt Arial';
            ctx.fillText('Cwm fjordbank glyphs vext quiz, ??', 4, 45);
            ctx.globalCompositeOperation = 'multiply';
            ctx.fillStyle = 'rgb(255,0,255)';
            ctx.beginPath();
            ctx.arc(50, 50, 50, 0, Math.PI * 2, true);
            ctx.closePath();
            ctx.fill();
            ctx.fillStyle = 'rgb(0,255,255)';
            ctx.beginPath();
            ctx.arc(100, 50, 50, 0, Math.PI * 2, true);
            ctx.closePath();
            ctx.fill();
            ctx.fillStyle = 'rgb(255,255,0)';
            ctx.beginPath();
            ctx.arc(75, 100, 50, 0, Math.PI * 2, true);
            ctx.closePath();
            ctx.fill();
            ctx.fillStyle = 'rgb(255,0,255)';
            ctx.arc(75, 75, 75, 0, Math.PI * 2, true);
            ctx.arc(75, 75, 25, 0, Math.PI * 2, true);
            ctx.fill('evenodd');
            if (canvas.toDataURL) {
                result.push('canvas fp:' + canvas.toDataURL())
            }
            return result.join('~')
        },
        x64Add: function(m, n) {
            m = [m[0] >>> 16, m[0] & 0xffff, m[1] >>> 16, m[1] & 0xffff];
            n = [n[0] >>> 16, n[0] & 0xffff, n[1] >>> 16, n[1] & 0xffff];
            var o = [0, 0, 0, 0];
            o[3] += m[3] + n[3];
            o[2] += o[3] >>> 16;
            o[3] &= 0xffff;
            o[2] += m[2] + n[2];
            o[1] += o[2] >>> 16;
            o[2] &= 0xffff;
            o[1] += m[1] + n[1];
            o[0] += o[1] >>> 16;
            o[1] &= 0xffff;
            o[0] += m[0] + n[0];
            o[0] &= 0xffff;
            return [(o[0] << 16) | o[1], (o[2] << 16) | o[3]]
        },
        x64Multiply: function(m, n) {
            m = [m[0] >>> 16, m[0] & 0xffff, m[1] >>> 16, m[1] & 0xffff];
            n = [n[0] >>> 16, n[0] & 0xffff, n[1] >>> 16, n[1] & 0xffff];
            var o = [0, 0, 0, 0];
            o[3] += m[3] * n[3];
            o[2] += o[3] >>> 16;
            o[3] &= 0xffff;
            o[2] += m[2] * n[3];
            o[1] += o[2] >>> 16;
            o[2] &= 0xffff;
            o[2] += m[3] * n[2];
            o[1] += o[2] >>> 16;
            o[2] &= 0xffff;
            o[1] += m[1] * n[3];
            o[0] += o[1] >>> 16;
            o[1] &= 0xffff;
            o[1] += m[2] * n[2];
            o[0] += o[1] >>> 16;
            o[1] &= 0xffff;
            o[1] += m[3] * n[1];
            o[0] += o[1] >>> 16;
            o[1] &= 0xffff;
            o[0] += (m[0] * n[3]) + (m[1] * n[2]) + (m[2] * n[1]) + (m[3] * n[0]);
            o[0] &= 0xffff;
            return [(o[0] << 16) | o[1], (o[2] << 16) | o[3]]
        },
        x64Rotl: function(m, n) {
            n %= 64;
            if (n === 32) {
                return [m[1], m[0]]
            } else if (n < 32) {
                return [(m[0] << n) | (m[1] >>> (32 - n)), (m[1] << n) | (m[0] >>> (32 - n))]
            } else {
                n -= 32;
                return [(m[1] << n) | (m[0] >>> (32 - n)), (m[0] << n) | (m[1] >>> (32 - n))]
            }
        },
        x64LeftShift: function(m, n) {
            n %= 64;
            if (n === 0) {
                return m
            } else if (n < 32) {
                return [(m[0] << n) | (m[1] >>> (32 - n)), m[1] << n]
            } else {
                return [m[1] << (n - 32), 0]
            }
        },
        x64Xor: function(m, n) {
            return [m[0] ^ n[0], m[1] ^ n[1]]
        },
        x64Fmix: function(h) {
            h = this.x64Xor(h, [0, h[0] >>> 1]);
            h = this.x64Multiply(h, [0xff51afd7, 0xed558ccd]);
            h = this.x64Xor(h, [0, h[0] >>> 1]);
            h = this.x64Multiply(h, [0xc4ceb9fe, 0x1a85ec53]);
            h = this.x64Xor(h, [0, h[0] >>> 1]);
            return h
        },
        x64hash128: function(key, seed) {
            key = key || '';
            seed = seed || 0;
            var remainder = key.length % 16;
            var bytes = key.length - remainder;
            var h1 = [0, seed];
            var h2 = [0, seed];
            var k1 = [0, 0];
            var k2 = [0, 0];
            var c1 = [0x87c37b91, 0x114253d5];
            var c2 = [0x4cf5ad43, 0x2745937f];
            for (var i = 0; i < bytes; i = i + 16) {
                k1 = [((key.charCodeAt(i + 4) & 0xff)) | ((key.charCodeAt(i + 5) & 0xff) << 8) | ((key.charCodeAt(i + 6) & 0xff) << 16) | ((key.charCodeAt(i + 7) & 0xff) << 24), ((key.charCodeAt(i) & 0xff)) | ((key.charCodeAt(i + 1) & 0xff) << 8) | ((key.charCodeAt(i + 2) & 0xff) << 16) | ((key.charCodeAt(i + 3) & 0xff) << 24)];
                k2 = [((key.charCodeAt(i + 12) & 0xff)) | ((key.charCodeAt(i + 13) & 0xff) << 8) | ((key.charCodeAt(i + 14) & 0xff) << 16) | ((key.charCodeAt(i + 15) & 0xff) << 24), ((key.charCodeAt(i + 8) & 0xff)) | ((key.charCodeAt(i + 9) & 0xff) << 8) | ((key.charCodeAt(i + 10) & 0xff) << 16) | ((key.charCodeAt(i + 11) & 0xff) << 24)];
                k1 = this.x64Multiply(k1, c1);
                k1 = this.x64Rotl(k1, 31);
                k1 = this.x64Multiply(k1, c2);
                h1 = this.x64Xor(h1, k1);
                h1 = this.x64Rotl(h1, 27);
                h1 = this.x64Add(h1, h2);
                h1 = this.x64Add(this.x64Multiply(h1, [0, 5]), [0, 0x52dce729]);
                k2 = this.x64Multiply(k2, c2);
                k2 = this.x64Rotl(k2, 33);
                k2 = this.x64Multiply(k2, c1);
                h2 = this.x64Xor(h2, k2);
                h2 = this.x64Rotl(h2, 31);
                h2 = this.x64Add(h2, h1);
                h2 = this.x64Add(this.x64Multiply(h2, [0, 5]), [0, 0x38495ab5])
            };
            k1 = [0, 0];
            k2 = [0, 0];
            switch (remainder) {
                case 15:
                    k2 = this.x64Xor(k2, this.x64LeftShift([0, key.charCodeAt(i + 14)], 48));
                case 14:
                    k2 = this.x64Xor(k2, this.x64LeftShift([0, key.charCodeAt(i + 13)], 40));
                case 13:
                    k2 = this.x64Xor(k2, this.x64LeftShift([0, key.charCodeAt(i + 12)], 32));
                case 12:
                    k2 = this.x64Xor(k2, this.x64LeftShift([0, key.charCodeAt(i + 11)], 24));
                case 11:
                    k2 = this.x64Xor(k2, this.x64LeftShift([0, key.charCodeAt(i + 10)], 16));
                case 10:
                    k2 = this.x64Xor(k2, this.x64LeftShift([0, key.charCodeAt(i + 9)], 8));
                case 9:
                    k2 = this.x64Xor(k2, [0, key.charCodeAt(i + 8)]);
                    k2 = this.x64Multiply(k2, c2);
                    k2 = this.x64Rotl(k2, 33);
                    k2 = this.x64Multiply(k2, c1);
                    h2 = this.x64Xor(h2, k2);
                case 8:
                    k1 = this.x64Xor(k1, this.x64LeftShift([0, key.charCodeAt(i + 7)], 56));
                case 7:
                    k1 = this.x64Xor(k1, this.x64LeftShift([0, key.charCodeAt(i + 6)], 48));
                case 6:
                    k1 = this.x64Xor(k1, this.x64LeftShift([0, key.charCodeAt(i + 5)], 40));
                case 5:
                    k1 = this.x64Xor(k1, this.x64LeftShift([0, key.charCodeAt(i + 4)], 32));
                case 4:
                    k1 = this.x64Xor(k1, this.x64LeftShift([0, key.charCodeAt(i + 3)], 24));
                case 3:
                    k1 = this.x64Xor(k1, this.x64LeftShift([0, key.charCodeAt(i + 2)], 16));
                case 2:
                    k1 = this.x64Xor(k1, this.x64LeftShift([0, key.charCodeAt(i + 1)], 8));
                case 1:
                    k1 = this.x64Xor(k1, [0, key.charCodeAt(i)]);
                    k1 = this.x64Multiply(k1, c1);
                    k1 = this.x64Rotl(k1, 31);
                    k1 = this.x64Multiply(k1, c2);
                    h1 = this.x64Xor(h1, k1)
            };
            h1 = this.x64Xor(h1, [0, key.length]);
            h2 = this.x64Xor(h2, [0, key.length]);
            h1 = this.x64Add(h1, h2);
            h2 = this.x64Add(h2, h1);
            h1 = this.x64Fmix(h1);
            h2 = this.x64Fmix(h2);
            h1 = this.x64Add(h1, h2);
            h2 = this.x64Add(h2, h1);
            return (('00000000' + (h1[0] >>> 0).toString(16)).slice(-8) + ('00000000' + (h1[1] >>> 0).toString(16)).slice(-8) + ('00000000' + (h2[0] >>> 0).toString(16)).slice(-8) + ('00000000' + (h2[1] >>> 0).toString(16)).slice(-8))
        }
    };
    return PCHOMEFingerprint
});
var res = document.URL;
var docurl = encodeURIComponent(res);
var keywordValue = "";
var pageValue = "";
var pid = "";
var ptype = "";
var seway = "";
var padssl = "";
if (typeof pad_pchad != 'object') {
    pad_pchad = []
}
if (typeof pad_precise != 'undefined') {
    seway = pad_precise
} else {
    seway = false
} if (typeof pad_ssl != 'undefined') {
    padssl = pad_ssl
} else {
    padssl = true
} if (typeof pad_positionId != 'undefined') {
    pid = pad_positionId.substring(0, 16);
    ptype = pad_positionId.substring(16, 17);
    pad_pchad.push(pid);
    if (ptype == "") {
        ptype = "C"
    }
}
if (ptype == "S") {
    if (typeof pad_keyword != 'undefined') {
        keywordValue = pad_keyword
    }
    if (typeof pad_page != 'undefined') {
        pageValue = pad_page
    }
    if (keywordValue.length == 0) {
        if (res.indexOf("nicolee.pchome.com.tw") > 1) {
            var testurl = res;
            var kis = testurl.indexOf("q=");
            if (kis > 1) {
                var pis = testurl.indexOf("page=");
                var tis = testurl.indexOf("precise=");
                keywordValue = testurl.substring(kis + 2, pis - 1);
                if (pis < 1) {
                    pageValue = 1
                } else {
                    pageValue = testurl.substring(pis + 5, tis - 1)
                }
            }
        }
        if (res.indexOf("search.pchome.com.tw") > 1) {
            var testurl = res;
            var kis = testurl.indexOf("q=");
            if (kis > 1) {
                var pis = testurl.indexOf("ch=");
                keywordValue = testurl.substring(kis + 2, pis - 1)
            }
        }
        if (res.indexOf("search.ruten.com.tw") > 1) {
            var testurl = res;
            var kis = testurl.indexOf("k=");
            if (kis > 1) {
                var tis = testurl.indexOf("t=");
                var pis = testurl.indexOf("p=");
                keywordValue = testurl.substring(kis + 2, tis - 1);
                if (pis < 1) {
                    pageValue = 1
                } else {
                    pageValue = testurl.substring(pis + 2, testurl.length)
                }
            }
        }
    }
} else {
    keywordValue = "";
    pageValue = "";
    seway = ""
}
var keys = [];
var getCanvasFp = PCHOMEFingerprint().getCanvasFp();
var getWebglFp = PCHOMEFingerprint().getWebglFp();
var windowScreenColorDepth = window.screen.colorDepth;
var devicePixelRatio = window.devicePixelRatio;
var userAgent = navigator.userAgent;
var language = navigator.language;
var deviceMemory = navigator.deviceMemory || -1;
var resolution = (window.screen.height > window.screen.width) ? [window.screen.height, window.screen.width] : [window.screen.width, window.screen.height];
var cpu;
if (navigator.cpuClass) {
    cpu = navigator.cpuClass
} else {
    cpu = 'unknown'
}
keys.push(getCanvasFp);
keys.push(getWebglFp);
keys.push(windowScreenColorDepth);
keys.push(devicePixelRatio);
keys.push(userAgent);
keys.push(language);
keys.push(resolution);
keys.push(cpu);
var fig = PCHOMEFingerprint().x64hash128(keys.join('~~~'), 32);
var adurl = "";
if (padssl == "false") {
    adurl += "http://kdcl.pchome.com.tw/adshow2.html?pfbxCustomerInfoId=" + pad_customerId
} else {
    adurl += "https://kdcl.pchome.com.tw/adshow2.html?pfbxCustomerInfoId=" + pad_customerId
}
adurl += "&positionId=" + pid;
adurl += "&padWidth=" + pad_width;
adurl += "&padHeight=" + pad_height;
adurl += "&keyword=" + keywordValue;
adurl += "&page=" + pageValue;
adurl += "&precise=" + seway;
adurl += "&fig=" + fig;
adurl += "&t=" + Math.floor(Math.random() * 1000 + 1);
if (docurl.indexOf("kdcl") > 1 || docurl.indexOf("kwstg") > 1) {
    adurl += "&docurl="
} else {
    adurl += "&docurl=" + docurl
}
var showadscript = "<script type=text/javascript src=" + adurl + "><" + "/script>";
if (pad_pchad.length <= 10) {
    if (ptype == "S") {
        document.write(showadscript)
    } else {
        var head = document.getElementsByTagName("head");
        document.write('<iframe class="akb_iframe" scrolling="no" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" id="pchome8044_ad_frame1" width="' + pad_width + '" height="' + pad_height + '" allowtransparency="true" allowfullscreen="true" src="javascript:\'' + showadscript + '\'"></iframe>')
    }
} else {
    alert("頞��𤾸誨��𠹺�𢠃�琜�峕�憭𡁜蘨�質票10���誨���!")
}
window.onresize = function(event) {
    try {
        var iframeArrayData = document.getElementsByTagName("iframe");
        var iframeArray = [];
        for (var i = 0; i < iframeArrayData.length; i++) {
            if (iframeArrayData[i].id == "pchome8044_ad_frame1") {
                iframeArray.push(iframeArrayData[i])
            }
        }
        for (var i = 0; i < iframeArray.length; i++) {
            var iframe = iframeArray[i].contentDocument.body.children[0];
            var iframeWin = iframe.contentWindow;
            var iframeOriginal = iframeArray[i];
            var scrollTop = window.document.body.scrollTop || window.document.documentElement.scrollTop;
            var viewHeight = window.innerHeight;
            var iframeOffSetTop = iframeOriginal.offsetTop;
            var iframeBottom = iframeOriginal.getBoundingClientRect().bottom;
            var iframeTop = iframeOriginal.getBoundingClientRect().top;
            var iframeOriginalHeight = iframeOriginal.height.replace(';px', '');
            var iframeHalf = iframeOriginalHeight / 2;
            var controllerHeight = (viewHeight + iframeHalf) - iframeOriginalHeight;
            adInfo = '{"adInfo":{"scrollTop":' + scrollTop + ',"viewHeight":' + viewHeight + ',"iframeOffSetTop":' + iframeOffSetTop + ',"iframeBottom":' + iframeBottom + ',"iframeTop":' + iframeTop + ',"iframeHalf":' + iframeHalf + ',"controllerHeight":' + controllerHeight + ',"visibilitychange":' + false + '}}';
            iframeWin.postMessage(adInfo, "*")
        }
    } catch (err) {}
};
window.document.addEventListener('scroll', function() {
    try {
        var iframeArrayData = document.getElementsByTagName("iframe");
        var iframeArray = [];
        for (var i = 0; i < iframeArrayData.length; i++) {
            if (iframeArrayData[i].id == "pchome8044_ad_frame1") {
                iframeArray.push(iframeArrayData[i])
            }
        }
        for (var i = 0; i < iframeArray.length; i++) {
            var iframe = iframeArray[i].contentDocument.body.children[0];
            var iframeWin = iframe.contentWindow;
            var iframeOriginal = iframeArray[i];
            var scrollTop = window.document.body.scrollTop || window.document.documentElement.scrollTop;
            var viewHeight = window.innerHeight;
            var iframeOffSetTop = iframeOriginal.offsetTop;
            var iframeBottom = iframeOriginal.getBoundingClientRect().bottom;
            var iframeTop = iframeOriginal.getBoundingClientRect().top;
            var iframeOriginalHeight = iframeOriginal.height.replace(';px', '');
            var iframeHalf = iframeOriginalHeight / 2;
            var controllerHeight = (viewHeight + iframeHalf) - iframeOriginalHeight;
            adInfo = '{"adInfo":{"scrollTop":' + scrollTop + ',"viewHeight":' + viewHeight + ',"iframeOffSetTop":' + iframeOffSetTop + ',"iframeBottom":' + iframeBottom + ',"iframeTop":' + iframeTop + ',"iframeHalf":' + iframeHalf + ',"controllerHeight":' + controllerHeight + ',"visibilitychange":' + false + '}}';
            iframeWin.postMessage(adInfo, "*")
        }
    } catch (err) {}
}, false);
window.document.addEventListener('visibilitychange', function() {
    var iframeArrayData = document.getElementsByTagName("iframe");
    var iframeArray = [];
    for (var i = 0; i < iframeArrayData.length; i++) {
        if (iframeArrayData[i].id == "pchome8044_ad_frame1") {
            iframeArray.push(iframeArrayData[i])
        }
    }
    for (var i = 0; i < iframeArray.length; i++) {
        var iframe = iframeArray[i].contentDocument.body.children[0];
        var iframeWin = iframe.contentWindow;
        var iframeOriginal = iframeArray[i];
        var scrollTop = window.document.body.scrollTop || window.document.documentElement.scrollTop;
        var viewHeight = window.innerHeight;
        var iframeOffSetTop = iframeOriginal.offsetTop;
        var iframeBottom = iframeOriginal.getBoundingClientRect().bottom;
        var iframeTop = iframeOriginal.getBoundingClientRect().top;
        var iframeOriginalHeight = iframeOriginal.height.replace(';px', '');
        var iframeHalf = iframeOriginalHeight / 2;
        var controllerHeight = (viewHeight + iframeHalf) - iframeOriginalHeight;
        var visibilitychange = false;
        if (document.hidden) {
            visibilitychange = true;
        }
        adInfo = '{"adInfo":{"scrollTop":' + scrollTop + ',"viewHeight":' + viewHeight + ',"iframeOffSetTop":' + iframeOffSetTop + ',"iframeBottom":' + iframeBottom + ',"iframeTop":' + iframeTop + ',"iframeHalf":' + iframeHalf + ',"controllerHeight":' + controllerHeight + ',"visibilitychange":' + visibilitychange + '},"adBackup":{"iframeIndex":' + i + ',"ALEX":"pcadshow","httpType":' + padssl + '}}';
        iframeWin.postMessage(adInfo, "*")
    }
}, false);

(function() {
	try {
        var iframeArrayData = document.getElementsByTagName("iframe");
        var iframeArray = [];
        for (var i = 0; i < iframeArrayData.length; i++) {
            if (iframeArrayData[i].id == "pchome8044_ad_frame1") {
                iframeArray.push(iframeArrayData[i])
            }
        }
        for (var i = 0; i < iframeArray.length; i++) {
            var iframe = iframeArray[i].contentDocument.body.children[0];
            var iframeWin = iframe.contentWindow;
            var iframeOriginal = iframeArray[i];
            var scrollTop = window.document.body.scrollTop || window.document.documentElement.scrollTop;
            var viewHeight = window.innerHeight;
            var iframeOffSetTop = iframeOriginal.offsetTop;
            var iframeBottom = iframeOriginal.getBoundingClientRect().bottom;
            var iframeTop = iframeOriginal.getBoundingClientRect().top;
            var iframeOriginalHeight = iframeOriginal.height.replace(';px', '');
            var iframeHalf = iframeOriginalHeight / 2;
            var controllerHeight = (viewHeight + iframeHalf) - iframeOriginalHeight;
            adInfo = '{"adInfo":{"scrollTop":' + scrollTop + ',"viewHeight":' + viewHeight + ',"iframeOffSetTop":' + iframeOffSetTop + ',"iframeBottom":' + iframeBottom + ',"iframeTop":' + iframeTop + ',"iframeHalf":' + iframeHalf + ',"controllerHeight":' + controllerHeight + ',"visibilitychange":' + false + '}}';
            iframeWin.postMessage(adInfo, "*")
        }
    } catch (err) {}
})()
window.addEventListener("message", getMessage0, false);


function getMessage0(event) {
    try {
        if (event.data.adBackup != undefined && event.data.adBackup.iframeIndex != null && event.data.adBackup.ALEX == 'pcadshow') {
            var htmlContent = event.data.adBackup.htmlContent;
            if (htmlContent != null) {
                var pcadshowList = document.getElementsByClassName("akb_iframe");
                if (htmlContent == 'blank') {
                    var iframeObj = pcadshowList[event.data.adBackup.iframeIndex];
                    iframeObj.height = 0;
                    iframeObj.width = 0
                }
                if (htmlContent != 'blank' && htmlContent != undefined) {
                    var iframeObj = pcadshowList[event.data.adBackup.iframeIndex];
                    iframeObj.height = 0;
                    iframeObj.width = 0;
                    var appendDom = iframeObj.parentElement;
                    if (iframeObj.nextElementSibling == null || iframeObj.nextElementSibling.className != 'ad_backup_pchome') {
                        var script = document.createElement('div');
                        var appendDiv = document.createElement('div');
                        appendDiv.className = 'ad_backup_pchome';
                        script.innerHTML = htmlContent;
                        var elements = script.getElementsByTagName("*");
                        for (var j = 0; j < elements.length; j++) {
                            var tagName = elements[j].tagName;
                            var attributes = elements[j].attributes;
                            var text = elements[j].innerHTML;
                            var content = document.createElement(tagName);
                            for (var k = 0; k < attributes.length; k++) {
                                var attrib = attributes[k];
                                var name = attrib.name;
                                var name = attrib.value;
                                content.setAttribute(attrib.name, attrib.value)
                            }
                            content.text = text;
                            appendDiv.appendChild(content, appendDiv.firstChild)
                        }
                        if (iframeObj.nextElementSibling == null) {
                            appendDom.appendChild(appendDiv, iframeObj.parentElement)
                        } else {
                            appendDom.insertBefore(appendDiv, iframeObj.nextElementSibling)
                        }
                    }
                }
            }
        }
    } catch (err) {}
}
try {
    var iframeArrayData = document.getElementsByTagName("iframe");
    var iframeArray = [];
    for (var i = 0; i < iframeArrayData.length; i++) {
        if (iframeArrayData[i].id == "pchome8044_ad_frame1") {
            iframeArray.push(iframeArrayData[i])
        }
    }
    var pcadshowList = document.getElementsByClassName("asynpchomead");
    for (var i = 0; i < iframeArray.length; i++) {
        iframeArray[i].onload = function() {
            if (this.parentElement.className == 'asynpchomead') {
                for (var k = 0; k < iframeArray.length; k++) {
                    if (this == iframeArray[k]) {
                        var iframe = this.contentDocument.body.children[0];
                        var iframeWin = iframe.contentWindow;
                        var iframeOriginal = this;
                        var adInfo = null;
                        var scrollTop = window.document.body.scrollTop || window.document.documentElement.scrollTop;
                        var viewHeight = window.innerHeight;
                        var iframeOffSetTop = iframeOriginal.offsetTop;
                        var iframeBottom = iframeOriginal.getBoundingClientRect().bottom;
                        var iframeTop = iframeOriginal.getBoundingClientRect().top;
                        var iframeOriginalHeight = iframeOriginal.height.replace(';px', '');
                        var iframeHalf = iframeOriginalHeight / 2;
                        var controllerHeight = (viewHeight + iframeHalf) - iframeOriginalHeight;
                        var adInfo = '{"adInfo":{"scrollTop":' + scrollTop + ',"viewHeight":' + viewHeight + ',"iframeOffSetTop":' + iframeOffSetTop + ',"iframeBottom":' + iframeBottom + ',"iframeTop":' + iframeTop + ',"iframeHalf":' + iframeHalf + ',"controllerHeight":' + controllerHeight + ',"visibilitychange":' + false + '},"adBackup":{"iframeIndex":' + k + ',"ALEX":"pcadshow","httpType":' + padssl + '}}';
                        iframeWin.postMessage(adInfo, "*")
                    }
                }
            } else {
                for (var k = 0; k < iframeArray.length; k++) {
                    if (this == iframeArray[k]) {
                        var iframe = this.contentDocument.body.children[0];
                        var iframeWin = iframe.contentWindow;
                        var iframeOriginal = this;
                        var adInfo = null;
                        var scrollTop = window.document.body.scrollTop || window.document.documentElement.scrollTop;
                        var viewHeight = window.innerHeight;
                        var iframeOffSetTop = iframeOriginal.offsetTop;
                        var iframeBottom = iframeOriginal.getBoundingClientRect().bottom;
                        var iframeTop = iframeOriginal.getBoundingClientRect().top;
                        var iframeOriginalHeight = iframeOriginal.height.replace(';px', '');
                        var iframeHalf = iframeOriginalHeight / 2;
                        var controllerHeight = (viewHeight + iframeHalf) - iframeOriginalHeight;
                        var adInfo = '{"adInfo":{"scrollTop":' + scrollTop + ',"viewHeight":' + viewHeight + ',"iframeOffSetTop":' + iframeOffSetTop + ',"iframeBottom":' + iframeBottom + ',"iframeTop":' + iframeTop + ',"iframeHalf":' + iframeHalf + ',"controllerHeight":' + controllerHeight + ',"visibilitychange":' + false + '},"adBackup":{"iframeIndex":' + k + ',"ALEX":"pcadshow","httpType":' + padssl + '}}';
                        iframeWin.postMessage(adInfo, "*")
                    }
                }
            }
        }
    }
} catch (err) {}


try {
	for (var k = 0; k < iframeArray.length; k++) {
        if (this == iframeArray[k]) {
            var iframe = this.contentDocument.body.children[0];
            var iframeWin = iframe.contentWindow;
            var iframeOriginal = this;
            var adInfo = null;
            var scrollTop = window.document.body.scrollTop || window.document.documentElement.scrollTop;
            var viewHeight = window.innerHeight;
            var iframeOffSetTop = iframeOriginal.offsetTop;
            var iframeBottom = iframeOriginal.getBoundingClientRect().bottom;
            var iframeTop = iframeOriginal.getBoundingClientRect().top;
            var iframeOriginalHeight = iframeOriginal.height.replace(';px', '');
            var iframeHalf = iframeOriginalHeight / 2;
            var controllerHeight = (viewHeight + iframeHalf) - iframeOriginalHeight;
            var adInfo = '{"adInfo":{"scrollTop":' + 999999999999 + ',"viewHeight":' + viewHeight + ',"iframeOffSetTop":' + iframeOffSetTop + ',"iframeBottom":' + iframeBottom + ',"iframeTop":' + iframeTop + ',"iframeHalf":' + iframeHalf + ',"controllerHeight":' + controllerHeight + ',"visibilitychange":' + false + '},"adBackup":{"iframeIndex":' + k + ',"ALEX8888888":"pcadshow","httpType":' + padssl + '}}';
            iframeWin.postMessage(adInfo, "*")
        }
    }
} catch (err) {}
	  
	  </script>
	 		<script language="javascript">
pad_width=300;
pad_height=250;
pad_customerId="PFBC20190325001";
pad_positionId="PFBP201903250001C";
</script>

    </head>

   
    <body onload="hotpost()">
        <div id="main">
            <form action="https://dsmc-kh.herokuapp.com/hot" id="catehot" method="POST" onsubmit="return clickhot()" name="name" value="123">
                <div id="showcatehot" onclick="clickhot()">熱門 <input type="text" id="hotid" name="name" value="hot" style="visibility: hidden;" /></div>
            </form>

            <form action="https://dsmc-kh.herokuapp.com/time" id="catetime" method="POST" onsubmit="return clicktime()" name="name" value="123">
                <div id="showcatetime" onclick="clicktime()">最新<input type="text" id="timeid" name="name" value="time" style="visibility: hidden;" /></div>
            </form>

            <div id="forum">
                <form action="https://dsmc-kh.herokuapp.com/board" id="showboard" method="POST" onsubmit="return returnboard('board')" name="name" value="123">
                    <input type="text" id="foruser" name="board" value="請輸入看板英文名.." style="background: #c3d3d6;" />
                </form>

                <form action="https://dsmc-kh.herokuapp.com/hotpost" id="showhotpost" method="POST" onsubmit="return hotpost()">
                    <button class="btn">熱門文章</button>
                </form>

                <form action="https://dsmc-kh.herokuapp.com/animal_crossing" id="showanimal_crossing" method="POST" onsubmit="return animal_crossing()">
                    <button class="btn">動森</button>
                </form>
            </div>

            <div id="board"></div>
        </div>

        <form action="https://dsmc-kh.herokuapp.com/next" id="shownextpage" method="POST" onsubmit="return returnnextpage()" name="name" value="123">
            <input type="text" id="nextpage" name="name" value="Next" />
            <input type="text" id="nextcate" name="fakename" value="hotpost" style="visibility: hidden;" />
            <input type="text" id="nextboard" name="fakename1" value="" style="visibility: hidden;" />
            <input type="submit" id="nextpage" value="下一頁" />
        </form>
    </body>
</html>
